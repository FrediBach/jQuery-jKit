
// jQuery Plugin: jKit
// A very easy to use, cross platform jQuery UI toolkit that's still small in size, has the features you need and doesn't get in your way.
// Version 1.2.11 - 7. May. 2013
// http://jquery-jkit.com/
//
// by Fredi Bach
// http://fredibach.ch/jquery-plugins/

(function($,undefined){$.jKit=function(element,options,moreoptions){var defaults={prefix:"jkit",dataAttribute:"data-jkit",activeClass:"active",errorClass:"error",successClass:"success",ignoreFocus:!1,ignoreViewport:!1,keyNavigation:!0,touchNavigation:!0,plugins:{},replacements:{},delimiter:",",loadminified:!0,macros:{"hide-if-empty":"binding:selector=this;source=text;mode=css.display","smooth-blink":"loop:speed1=2000;duration1=250;speed2=250;duration2=2000"},commands:{}},plugin=this
plugin.version="1.2.11",plugin.inc=[],plugin.settings={},plugin.commands={},plugin.executions={}
var $element=$(element),element=element
if("string"==typeof options){var singlecommand=options
moreoptions==undefined&&(moreoptions={}),options=moreoptions}var startX,startY,windowhasfocus=!0,uid=0,commandkeys={};($.support.htmlSerialize||$.support.opacity)&&$(window).focus(function(){windowhasfocus=!0}).blur(function(){windowhasfocus=!1}),plugin.init=function(e){e==undefined&&(e=$element),plugin.settings=$.extend({},defaults,options)
var t=plugin.settings
singlecommand!=undefined?plugin.executeCommand(e,singlecommand,options):e.find("*[rel^=jKit], *["+t.dataAttribute+"]").each(function(){var i=this,n=$(this).attr("rel"),a=$(this).attr(t.dataAttribute)
n=a!=undefined?$.trim(a).substring(1):$.trim(n).substring(5),n=n.substring(0,n.length-1),n=n.replace(/\]\s+\[/g,"]["),relsplit=n.split("]["),$.each(relsplit,function(n,a){a=a.replace(/\\=/g,"|jkit-eq|").replace(/\\:/g,"|jkit-dp|").replace(/\\;/g,"|jkit-sc|").replace(/\\\[/g,"|jkit-sbo|").replace(/\\\]/g,"|jkit-sbc|").replace(/\\\*/g,"|jkit-st|").replace(/\\ /g,"|jkit-sp|"),a=$.trim(a),t.macros[a]!=undefined&&(a=t.macros[a])
var s=plugin.parseOptions(a)
if(t.macros[s.type]!=undefined){var o=plugin.parseOptions(t.macros[s.type])
s.type=o.type,s=$.extend({},o,s)}if(s.type=="macro"&&relsplit[n-1]!=undefined)plugin.settings.macros[s.name]=relsplit[n-1]
else if(s.type=="repeat"&&relsplit[n-1]!=undefined){var r=plugin.parseOptions(relsplit[n-1])
e.on(s.onevent,function(){s.delay==undefined&&(s.delay=0),setTimeout(function(){plugin.executeCommand($(i),r.type,r)},s.delay)})}else if(s.type=="info"){var l="jKit version: "+plugin.version+"\n"
l+="Included commands: "+plugin.inc.join(", ")+"\n",console.log(l),console.log(e)}else{var d=[]
if(s.target!=undefined){var u=s.target.split(".")
switch(u=[u.shift(),u.join(".")],u[1]==undefined&&(u[1]="*"),u[0]){case"children":$(i).children(u[1]).each(function(){d.push(this)})
break
case"each":$(i).find(u[1]).each(function(){d.push(this)})
break
default:d.push(i)}}else d.push(i)
$.each(d,function(a,o){var r=plugin.parseDynamicOptions(s)
if(r.commandkey==undefined){var l=$(i).attr("id")
r.commandkey=l!=undefined?l:t.prefix+"-uid-"+ ++uid}if(r.commandkey!=undefined&&(commandkeys[r.commandkey]={el:o,options:r,execs:0}),r.onevent!==undefined||r.andonevent!==undefined){var d=[]
r.onevent!==undefined&&d.push(r.onevent),r.andonevent!==undefined&&d.push(r.andonevent)
var u=d.join(" ")
e.on(u,function(){t.replacements[r.type]!=undefined&&typeof t.replacements[r.type]=="function"?t.replacements[r.type].call(plugin,o,r.type,r):plugin.executeCommand(o,r.type,r)})}if(r.onevent===undefined)if(relsplit[n-1]!=undefined){var c=""
if(relsplit[n-1]!=undefined){var p=plugin.parseOptions(relsplit[n-1])
c=p.type+"."+r.commandkey+".executed"}""!=c&&plugin.executions[p.type+"."+r.commandkey+".executed"]===undefined?e.on(c,function(){t.replacements[r.type]!=undefined&&typeof t.replacements[r.type]=="function"?t.replacements[r.type].call(plugin,o,r.type,r):plugin.executeCommand(o,r.type,r)}):t.replacements[r.type]!=undefined&&typeof t.replacements[r.type]=="function"?t.replacements[r.type].call(plugin,o,r.type,r):plugin.executeCommand(o,r.type,r)}else t.replacements[r.type]!=undefined&&typeof t.replacements[r.type]=="function"?t.replacements[r.type].call(plugin,o,r.type,r):plugin.executeCommand(o,r.type,r)})}})})},plugin.applyMacro=function(e,t){var i=plugin.settings
if(i.macros[t]!=undefined){var n=i.macros[t],a=plugin.parseOptions(n)
i.replacements[a.type]!=undefined&&typeof i.replacements[a.type]=="function"?i.replacements[a.type].call(plugin,e,a.type,a):plugin.executeCommand(e,a.type,a)}},plugin.parseOptions=function(e){var t=e.split(":"),i=t[0].split("."),n={type:$.trim(i[0])}
if(i[1]!==undefined&&(n.commandkey=i[1]),n.execute==undefined&&(n.execute="always"),t.length>1){var a=t[1].split(";")
$.each(a,function(e,t){var i=t.split("=")
n[$.trim(i[0])]=$.trim(i[1])})}return n},plugin.fixSpeed=function(e){return"fast"!=e&&"slow"!=e&&(e=parseInt(e)),e},plugin.parseDynamicOptions=function(e){var t={}
for(index in e){var i=e[index]
if(i!==undefined&&i.indexOf("{")>-1&&i.indexOf("|")>0&&i.indexOf("}")>1){for(var n="",a=!1,s="",o=!1,r=0;r<=i.length-1;r++)if(a||i.charAt(r)!="{"?a&&i.charAt(r)=="}"&&(a=!1,o=!0):a=!0,a||o){if(s+=i.charAt(r),o){s=s.slice(1,-1)
var l=s.split("|")
if(l[0]=="rand"){var d=l[1].split("-")
n+=plugin.getRandom(Number(d[0]),Number(d[1]))}o=!1,s=""}}else n+=i.charAt(r)
t[index]=n}else t[index]=i}return t},plugin.getRandom=function(e,t){if(e>t)return-1
if(e==t)return e
var i
do i=Math.random()
while(1==i)
return e+parseInt(i*(t-e+1))},plugin.findElementTag=function(e,t,i,n){var a=""
if(i===undefined||isNaN(i)||parseInt(i)!=i){var s={}
e.find(t).each(function(e){if(!(25>e))return!1
var t=$(this).prop("tagName")
t[0]!=""&&(s[t]!==undefined?s[t]++:s[t]=1)})
var o=0,r=""
for(var l in s)s[l]>o&&(o=s[l],r=l)
a=r}else e.find(t).length>i&&(a=$(e.find(t).get(i)).prop("tagName"))
return a!==undefined&&""!=a?a:n},plugin.addDefaults=function(e,t){if(plugin.settings.commands[e]!=undefined){var i=plugin.settings.commands[e]
$.each(i,function(e,i){t[e]==undefined&&(t[e]=i),e.indexOf("speed")>-1&&(t[e]=plugin.fixSpeed(t[e]))})}return t},plugin.executeCommand=function(that,type,options){var s=plugin.settings,$that=$(that)
if(plugin.commands[type]===undefined&&(plugin.commands[type]=[]),$.isArray(plugin.commands[type])){if(plugin.commands[type].push({el:that,options:options}),s.loadminified)var commandurl="jquery.jkit.commands/"+type+".min.js"
else var commandurl="jquery.jkit.commands/"+type+".js"
return plugin.commands[type].length==1&&$.ajax({url:"jquery.jkit.commands/"+type+".js",success:function(data){if(data.indexOf("plugin.commands.")!==-1){var queue=plugin.commands[type]
eval(data),$.each(queue,function(e,t){plugin.executeCommand(t.el,type,t.options)})}},dataType:"text"}),$that}return $element.trigger("jkit-commandinit",{element:$that,type:type,options:options}),options.commandkey!==undefined&&(commandkeys[options.commandkey].execs++,options.execute=="once"&&commandkeys[options.commandkey].execs>1||!isNaN(options.execute)&&commandkeys[options.commandkey].execs>options.execute)?$that:(options=plugin.addDefaults(type,options),$.each(options,function(e,t){"string"==typeof t&&(options[e]=t=t.replace(/\|jkit\-eq\|/g,"=").replace(/\|jkit\-dp\|/g,":").replace(/\|jkit\-sc\|/g,";").replace(/\|jkit\-sbo\|/g,"[").replace(/\|jkit\-sbc\|/g,"]").replace(/\|jkit\-st\|/g,"*").replace(/\|jkit\-sp\|/g," ")),"string"==typeof t&&t.slice(-1)=="*"&&(options[e]=window[t.slice(0,-1)],typeof options[e]=="function"&&(options[e]=options[e].call(that)))}),plugin.commands[type].execute($that,options),"remove"!=type&&($element.trigger(type+"."+options.commandkey+".executed",{}),plugin.executions[type+"."+options.commandkey+".executed"]=!0),$that)},plugin.triggerEvent=function(e,t,i){if(i.commandkey!==undefined){var n=e.split(" ")
$.each(n,function(e,n){$element.trigger(i.commandkey+"."+n,{element:t,options:i})})}},plugin.cssFromString=function(e){var t=e.split(","),i={}
return $.each(t,function(e,t){var n=t.split("(")
if(n.length==2){var a=n[0],s=n[1].slice(0,-1)
i[a]=s}}),i},plugin.addCommandDefaults=function(e,t){defaults.commands[e]=t,$element.trigger("command."+e+".loaded",{})},plugin.addKeypressEvents=function(e,t){plugin.settings.keyNavigation&&$(document).keydown(function(i){if(this===i.target||!/textarea|select/i.test(i.target.nodeName)&&i.target.type!=="text"){for(var n={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},a=48;90>=a;a++)n[a]=String.fromCharCode(a).toLowerCase()
if($.inArray(i.which,n)){var s=""
i.altKey&&(s+="alt+"),i.ctrlKey&&(s+="ctrl+"),i.metaKey&&(s+="meta+"),i.shiftKey&&(s+="shift+")
var o=s+n[i.which]
o==t&&(e.trigger(s+n[i.which]),i.preventDefault())}}})},plugin.commands.init=function(){var e={}
return plugin.addCommandDefaults("init",{}),e.execute=function(e,t){plugin.init(e),plugin.triggerEvent("complete",e,t)},e}(),plugin.commands.encode=function(){var e={}
plugin.addCommandDefaults("encode",{format:"code",fix:"yes"}),e.execute=function(e,i){switch(i.format){case"code":var n=e.html()
i.fix=="yes"&&(n=t(n)),e.html(n.replace(/</g,"&lt;").replace(/>/g,"&gt;"))
break
case"text":e.html(e.text())
break
case"esc":e.html(escape(e.html()))
break
case"uri":e.html(encodeURI(e.html()))}}
var t=function(e){var t=e.split("\n"),i=9999
return $.each(t,function(e,t){if($.trim(t)!=""){for(var n=-1;t.charAt(n+1)=="	";)n++
n++,i>n&&(i=n)}}),$.each(t,function(e,n){t[e]=n.substr(i)}),t.join("\n")}
return e}(),plugin.commands.chart=function(){var e={}
return plugin.addCommandDefaults("chart",{max:0,delaysteps:100,speed:500,easing:"linear"}),e.execute=function(e,t){var i=plugin.settings,n=e.find("thead > tr > th.label").text(),a=e.attr("id"),s=[]
e.find("thead > tr > th").each(function(){$(this).hasClass("label")||s.push($(this).text())})
var o=0,r=[]
e.find("tbody tr").each(function(){var e={label:$(this).find("th.label").text(),data:[]}
$(this).find("th").each(function(){if(!$(this).hasClass("label")){var t=Number($(this).text())
o=Math.max(t,o),e.data.push(t)}}),r.push(e)}),t.max>0&&o<t.max&&(o=t.max)
var l=$("<div/>",{id:a,"class":i.prefix+"-chart"}),d=0,u=0
$.each(s,function(a,c){d++
var p=$("<div/>",{"class":i.prefix+"-chart-step"}).html("<label>"+c+"</label>").appendTo(l)
$.each(r,function(e){if(r[e].data[a]>0){var s=$("<div/>",{"class":i.prefix+"-chart-plot "+i.prefix+"-chart-plot"+e}).appendTo(p)
$("<div/>").text(r[e].label).delay(u).animate({width:r[e].data[a]/o*100+"%"},t.speed,t.easing).appendTo(s),$("<span/>",{"class":i.prefix+"-chart-info"}).text(n+" "+r[e].label+": "+r[e].data[a]+" "+t.units).appendTo(s)}}),d==s.length&&setTimeout(function(){plugin.triggerEvent("complete",e,t)},t.speed+u),u+=Number(t.delaysteps)}),e.replaceWith(l)},e}(),plugin.commands.animation=function(){var e={}
plugin.addCommandDefaults("animation",{fps:25,loop:"no",from:"",to:"",speed:"500",easing:"linear",delay:0,on:""}),e.execute=function(e,i){var n=plugin.settings
if(i.to!="")i.from!=""&&e.css(plugin.cssFromString(i.from)),setTimeout(function(){i.on!=""?e.on(i.on,function(){e.animate(plugin.cssFromString(i.to),i.speed,i.easing,function(){i.macro!=undefined&&plugin.applyMacro(e,i.macro),plugin.triggerEvent("complete",e,i)})}):e.animate(plugin.cssFromString(i.to),i.speed,i.easing,function(){i.macro!=undefined&&plugin.applyMacro($el,i.macro),plugin.triggerEvent("complete",e,i)})},i.delay)
else{i.interval=1e3/i.fps
var a=[],s=0,o=0
e.children().each(function(){var e=$(this).attr("rel"),t=$(this).attr(n.dataAttribute)
if(t!=undefined)var i=t.indexOf("["),r=t.indexOf("]"),l=t.substring(i+1,r)
else var i=e.indexOf("["),r=e.indexOf("]"),l=e.substring(i+1,r)
var d=plugin.parseOptions(l)
d.el=$(this),d.easing==undefined&&(d.easing="linear"),d.start=s,s+=parseInt(d.steps),d.end=s,o=s,s++,a.push(d)}),i.lastframe=o,e.css("overflow","hidden"),e.html(a[0].el),window.setTimeout(function(){t(a,-1,e,i)},0)}}
var t=function(e,i,n,a){if((windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(n.jKit_inViewport()||!n.jKit_inViewport()&&plugin.settings.ignoreViewport)){plugin.triggerEvent("showframe showframe"+(i+1),n,a),$.each(e,function(t,s){if(s.start==i){n.html(s.el.clone())
var o=(s.end-s.start)*a.interval
if(s.action=="fadeout")n.children(":first").show().fadeTo(o,0,s.easing)
else if(s.action=="fadein")n.children(":first").hide().fadeTo(o,1,s.easing)
else if(s.action=="fadeinout")n.children(":first").hide().fadeTo(o/2,1,s.easing).fadeTo(o/2,0,s.easing)
else if(s.action=="tween"){var r=e[t+1].el
n.children(":first").animate({"font-size":r.css("font-size"),"letter-spacing":r.css("letter-spacing"),color:r.css("color"),opacity:r.css("opacity"),"background-color":r.css("background-color"),"padding-top":r.css("padding-top"),"padding-bottom":r.css("padding-bottom"),"padding-left":r.css("padding-left"),"padding-right":r.css("padding-right")},o,s.easing)}}}),i++
var s=!1
i>a.lastframe&&(i=0,s=!0),(s&&a.loop=="yes"||!s)&&window.setTimeout(function(){t(e,i,n,a)},a.interval),a.loop=="no"&&(a.macro!=undefined&&plugin.applyMacro(n,a.macro),plugin.triggerEvent("complete",n,a))}else window.setTimeout(function(){t(e,i,n,a)},a.interval)}
return e}(),plugin.commands.tooltip=function(){var e={}
return plugin.addCommandDefaults("tooltip",{text:"",content:"",color:"#fff",background:"#000",classname:"",follow:"no",event:"mouse",yoffset:20}),e.execute=function(e,t){var i=plugin.settings,n=!1
$("div#"+i.prefix+"-tooltip").length==0&&$("<div/>",{id:i.prefix+"-tooltip"}).css("position","absolute").hide().appendTo("body"),$tip=$("div#"+i.prefix+"-tooltip"),t.content!=""?t.text=$(t.content).html():(t.text==""&&(t.text=$.trim(e.attr("title"))),t.text==""&&(t.text=$.trim(e.attr("alt"))))
var a="mouseenter",s="mouseleave click"
t.event=="focus"&&(a="focus",s="blur"),e.on(a,function(i){t.classname!=""?$tip.html(t.text).removeClass().css({background:"",color:""}).addClass(t.classname):$tip.html(t.text).removeClass().css({background:t.background,color:t.color}),t.event=="focus"?$tip.css({top:e.offset().top+e.outerHeight(),left:e.offset().left}):($tip.css("top",i.pageY+t.yoffset).css("left",i.pageX),parseInt($tip.css("left"))>$(window).width()/2&&$tip.css("left","0px").css("left",i.pageX-$tip.width())),$tip.stop(!0,!0).fadeIn(200),plugin.triggerEvent("open",e,t),n=!0}).on(s,function(){var i=200
$tip.is(":animated")&&(i=0),$tip.stop(!0,!0).fadeOut(i,function(){n=!1}),plugin.triggerEvent("closed",e,t)}),t.follow=="yes"&&$("body").on("mousemove",function(e){n&&$tip.css("top",e.pageY+t.yoffset-$(window).scrollTop()).css("left",e.pageX)})},e}(),plugin.commands.show=function(){var e={}
return plugin.addCommandDefaults("show",{delay:0,speed:500,animation:"fade",easing:"linear"}),e.execute=function(e,t){e.hide().jKit_effect(!0,t.animation,t.speed,t.easing,t.delay,function(){plugin.triggerEvent("complete",e,t)})},e}(),plugin.commands.swap=function(){var e={}
return plugin.addCommandDefaults("swap",{versions:"_off,_on",attribute:"src"}),e.execute=function(e,t){var i=plugin.settings,n=t.versions.split(i.delimiter),a=!1,s=e.attr(t.attribute),o=e.attr(t.attribute).replace(n[0],n[1])
t.attribute=="src"&&($("<img/>")[0].src=o),e.on("mouseenter click",function(){a||(e.attr(t.attribute,o),plugin.triggerEvent("active",e,t),a=!0)}).on("mouseleave click",function(){a&&(e.attr(t.attribute,s),plugin.triggerEvent("inactive",e,t),a=!1)})},e}(),plugin.commands.limit=function(){var e={}
return plugin.addCommandDefaults("limit",{elements:"children",count:5,animation:"none",speed:250,easing:"linear",endstring:"..."}),e.execute=function(e,t){if(t.elements=="children")e.children(":gt("+(t.count-1)+")").each(function(){$(this).jKit_effect(!1,t.animation,t.speed,t.easing)}),setTimeout(function(){plugin.triggerEvent("complete",e,t)},t.speed)
else{var i=e.text().substr(0,t.count)
i!=e.text()&&(i=i.substr(0,i.length-t.endstring.length)+t.endstring,e.text(i))}},e}(),plugin.commands.lorem=function(){var e={}
return plugin.addCommandDefaults("lorem",{paragraphs:0,length:"",random:"no"}),e.execute=function(e,t){var i=["Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.","Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.","Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.","Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis.","At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd magna no rebum. sanctus sea sed takimata ut vero voluptua. est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat.","Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."],n=""
if(t.random=="yes"&&(i=$.fn.jKit_arrayShuffle(i)),t.paragraphs>0)for(var a=1;a<=t.paragraphs;a++)n+="<p>"+i[(a-1)%7]+"</p>"
else if(t.length!=undefined&&t.length!="")for(var a=1;n.length<t.length-1;)n+=i[(a-1)%7]+" ",n=n.substring(0,t.length-1),a++
else n=i[0]
e.html(n)},e}(),plugin.commands.plugin=function(){var e={}
return plugin.addCommandDefaults("plugin",{script:""}),e.execute=function(e,t){var i=plugin.settings
i.plugins[t.script]!=undefined&&(t.functioncall=i.plugins[t.script].fn,i.plugins[t.script].option!=undefined&&(t.option=i.plugins[t.script].option),t.script=i.plugins[t.script].path),$.ajaxSetup({cache:!0}),t.script!=undefined&&$.getScript(t.script,function(){t.option!=undefined?e[t.functioncall](t[t.option]):(delete t.type,delete t.script,e[t.functioncall](t)),plugin.triggerEvent("complete",e,t)}),$.ajaxSetup({cache:!1})},e}(),plugin.commands.split=function(){var e={}
return plugin.addCommandDefaults("split",{separator:"",container:"span",before:"",after:""}),e.execute=function(e,t){var i=e.text().split(t.separator)
e.html(""),$.each(i,function(i,n){$("<"+t.container+"/>").text(n).appendTo(e)}),e.html(t.before+e.html()+t.after)},e}(),plugin.commands.random=function(){var e={}
return plugin.addCommandDefaults("random",{count:1,remove:"yes"}),e.execute=function(e,t){for(var i=e.children().size(),n=[];n.length<t.count;){var a=Math.floor(Math.random()*i)
$.inArray(a,n)==-1&&n.push(a)}var s=0
e.children().each(function(){$.inArray(s,n)==-1?t.remove=="yes"?$(this).remove():$(this).hide():$(this).show(),s++})},e}(),plugin.commands.api=function(){var command={}
plugin.addCommandDefaults("api",{format:"json",value:"",url:"",interval:-1,template:""}),command.execute=function(e,t){t.url!=""&&readAPI(e,t)}
var readAPI=function($el,options){options.format=="json"&&$.ajax({type:"GET",url:options.url,contentType:"application/json; charset=utf-8",dataType:"jsonp",error:function(){plugin.triggerEvent("error",$el,options)},success:function(data){if(options.template!=""&&plugin.commands.template!==undefined)$el.html(plugin.commands.template.templates[options.template].template.clone().show()),$el.find("[data-jkit-api]").each(function(){var value=$(this).attr("data-jkit-api")
try{$(this).text(eval("data."+value.replace(/[^a-zA-Z0-9\.\[\]\_]+/g,"")))}catch(err){}}),$el.find("[data-jkit-api-if]").each(function(){var value=$(this).attr("data-jkit-api-if"),test=undefined
try{eval("test = data."+value.replace(/[^a-zA-Z0-9\.\[\]\_]+/g,""))}catch(err){}test==undefined&&$(this).remove()})
else if(options.value!="")try{$el.text(eval("data."+options.value.replace(/[^a-zA-Z0-9\.\[\]\_]+/g,"")))}catch(err){}else $el.text(data)
options.macro!=undefined&&plugin.applyMacro($el,options.macro),plugin.triggerEvent("complete",$el,options),options.interval>-1&&setTimeout(function(){readAPI($el,options)},options.interval*1e3)}})}
return command}(),plugin.commands.replace=function(){var e={}
return plugin.addCommandDefaults("replace",{modifier:"g",search:"",replacement:""}),e.execute=function(e,t){var i=RegExp(t.search,t.modifier)
e.html(e.html().replace(i,t.replacement))},e}(),plugin.commands.sort=function(){var e={}
return plugin.addCommandDefaults("sort",{what:"text",by:"",start:0,end:0}),e.execute=function(e,t){var i=plugin.settings,n=e.parent().children().index(e)
e.on("click",function(){plugin.triggerEvent("clicked",e,t)
var a=[]
e.parent().parent().parent().find("tbody > tr").each(function(){var e=$(this).find("td:nth-child("+(n+1)+")")
switch(t.what){case"html":var i=e.html()
break
case"class":var i=e.attr("class")
break
default:var i=e.text()}(t.start>0||t.end>0)&&(i=t.end>t.start?i.substring(t.start,t.end):i.substring(t.start)),a.push({content:$(this).html(),search:i})}),e.hasClass(i.prefix+"-sort-down")?(e.parent().find("th").removeClass(i.prefix+"-sort-down").removeClass(i.prefix+"-sort-up"),e.addClass(i.prefix+"-sort-up"),a.sort(function(e,i){if(t.by=="num"&&(e.search=Number(e.search),i.search=Number(i.search)),t.by=="date"){var e=new Date(e.search),i=new Date(i.search)
return e.getTime()-i.getTime()}return e.search>i.search?-1:e.search<i.search?1:0})):(e.parent().find("th").removeClass(i.prefix+"-sort-down").removeClass(i.prefix+"-sort-up"),e.addClass(i.prefix+"-sort-down"),a.sort(function(e,i){if(t.by=="num"&&(e.search=Number(e.search),i.search=Number(i.search)),t.by=="date"){var e=new Date(e.search),i=new Date(i.search)
return i.getTime()-e.getTime()}return e.search<i.search?-1:e.search>i.search?1:0}))
var s=e.parent().parent().parent().find("tbody")
s.html("")
var o=""
$.each(a,function(e,t){o+="<tr>"+t.content+"</tr>"}),s.html(o),plugin.triggerEvent("complete",e,t)})},e}(),plugin.commands.respond=function(){var e={}
plugin.addCommandDefaults("respond",{}),e.execute=function(e,i){if(i.width!=undefined){var n=i.width.split(",")
n.sort(function(e,t){return parseInt(e)-parseInt(t)}),t(e,n),$(window).resize(function(){t(e,n)})}}
var t=function(e,t){var i=e.width(),n=""
for(var a in t)parseInt(t[a])<i&&(n=plugin.settings.prefix+"-respond-"+t[a])
if(e.attr("class")==undefined)var s=[]
else var s=e.attr("class").split(/\s+/)
e.removeClass()
for(var a in s)s[a].indexOf(plugin.settings.prefix+"-respond")==-1&&e.addClass(s[a])
e.addClass(n)}
return e}(),plugin.commands.parallax=function(){var e={}
return plugin.addCommandDefaults("parallax",{strength:5,axis:"x",scope:"global",detect:"mousemove"}),e.execute=function(e,t){var i=plugin.settings,n=t.strength/10
if(t.detect=="scroll")var a=$(window)
else if(t.scope=="global")var a=$(document)
else var a=e
a.on(t.detect,function(a){if((windowhasfocus||!windowhasfocus&&i.ignoreFocus)&&(e.jKit_inViewport()||!e.jKit_inViewport()&&i.ignoreViewport)){var s=1
if(t.detect=="scroll")var o=$(window).scrollLeft()+$(window).width()/2,r=$(window).scrollTop()+$(window).height()/2
else var o=a.pageX,r=a.pageY
e.children().each(function(){var i=e.offset()
if(t.axis=="x"||t.axis=="both"){var a=(o-i.left-e.width()/2)*n*s*-1-$(this).width()/2+e.width()/2
$(this).css({left:a+"px"})}if(t.axis=="y"||t.axis=="both"){var l=(r-i.top-e.height()/2)*n*s*-1-$(this).height()/2+e.height()/2
$(this).css({top:l+"px"})}s++})}})},e}(),plugin.commands.zoom=function(){var e={}
return plugin.addCommandDefaults("zoom",{scale:2,speed:150,lightbox:"no"}),e.execute=function(e,t){var i=plugin.settings,n="zoom"
e.parent().css("position","relative"),e.on("mouseover",function(){var a=e.position(),s=e.height(),o=e.width()
$zoom=$("<div/>",{"class":i.prefix+"-"+n+"-overlay"}).css({position:"absolute",height:s+"px",width:o+"px",left:a.left+"px",top:a.top+"px",overflow:"hidden","background-image":"url("+e.attr("src")+")","background-repeat":"no-repeat","background-color":"#000",opacity:0}).on("mouseout",function(){$zoom.fadeTo(t.speed,0,function(){$zoom.remove(),plugin.triggerEvent("zoomout",e,t)})}).mousemove(function(e){var i=$(this).offset(),n=(e.pageX-i.left)*(t.scale-1),a=(e.pageY-i.top)*(t.scale-1)
$zoom.css("background-position","-"+n+"px -"+a+"px")}).fadeTo(t.speed,1,function(){plugin.triggerEvent("zoomin",e,t)}).insertAfter(e),t.lightbox=="yes"&&plugin.executeCommand($zoom,"lightbox",{})})},e}(),plugin.commands.partially=function(){var e={}
return plugin.addCommandDefaults("partially",{height:200,text:"more ...",speed:250,easing:"linear",on:"mouseover",area:"",alphaon:.9,alphaoff:0}),e.execute=function(e,t){var i=plugin.settings,n=e.height()
if(n>t.height){e.css("position","relative")
var a=$("<div/>").addClass(i.prefix+"-morediv").appendTo(e).html(t.text).css({width:e.outerWidth()+"px",opacity:t.alphaon})
if(plugin.addKeypressEvents(e,"down"),plugin.addKeypressEvents(e,"up"),t.on=="click"||$.fn.jKit_iOS())var s="click",o="click"
else var s="mouseenter",o="mouseleave"
$area=t.area=="morediv"?a:e,e.css({height:t.height+"px",overflow:"hidden"}),$area.on(s+" down",function(){e.height()<n&&(a.fadeTo(t.speed,t.alphaoff),e.animate({height:n+"px"},t.speed,t.easing,function(){plugin.triggerEvent("open",e,t)}))}).on(o+" up",function(){e.height()==n&&(a.fadeTo(t.speed,t.alphaon),e.animate({height:t.height+"px"},t.speed,t.easing,function(){plugin.triggerEvent("closed",e,t)}))})}},e}(),plugin.commands.showandhide=function(){var e={}
return plugin.addCommandDefaults("showandhide",{delay:0,speed:500,duration:1e4,animation:"fade",easing:"linear"}),e.execute=function(e,t){e.hide().jKit_effect(!0,t.animation,t.speed,t.easing,t.delay,function(){plugin.triggerEvent("shown",e,t),e.jKit_effect(!1,t.animation,t.speed,t.easing,t.duration,function(){plugin.triggerEvent("complete",e,t)})})},e}(),plugin.commands.filter=function(){var e={}
plugin.addCommandDefaults("filter",{by:"class",affected:"",animation:"slide",speed:250,easing:"linear",logic:"and",global:"no"}),e.execute=function(e,i){e.find(".jkit-filter").each(function(){$(this).data("oldval",$.trim($(this).val())).on("change click input",function(){$.trim($(this).val())!=$(this).data("oldval")&&($(this).data("oldval",$.trim($(this).val())),i.loader!==undefined&&$(i.loader).show(),plugin.triggerEvent("clicked",e,i),t(e,i))})}),e.find(".jkit-filter").each(function(){return $.trim($(this).val())!=""?(i.loader!==undefined&&$(i.loader).show(),plugin.triggerEvent("clicked",e,i),t(e,i),!1):undefined})}
var t=function(e,t){var i=[]
e.find(".jkit-filter").each(function(){var e=[],t=$(this).val().split(" ")
$.each(t,function(t,i){i=$.trim(i),""!=i&&e.push(i)}),i=i.concat(e)}),$container=t.global=="yes"?$("body"):e,$container.find(t.affected).each(function(){var e=$(this)
if(t.by=="text")var n=e.text().toLowerCase()
if(i.length>0){var a=[]
$.each(i,function(i,s){t.by=="class"?e.hasClass(s)&&a.push(s):t.by=="text"&&n.indexOf(s.toLowerCase())>-1&&a.push(s)}),a.length==i.length||a.length>0&&t.logic=="or"?e.jKit_effect(!0,t.animation,t.speed,t.easing,0):e.jKit_effect(!1,t.animation,t.speed,t.easing,0)}else e.jKit_effect(!0,t.animation,t.speed,t.easing,0)}),setTimeout(function(){t.loader!==undefined&&$(t.loader).hide(),plugin.triggerEvent("complete",e,t)},t.speed)}
return e}(),plugin.commands.slideshow=function(){var e={}
plugin.addCommandDefaults("slideshow",{shuffle:"no",interval:3e3,speed:250,animation:"fade",easing:"linear",on:""}),e.execute=function(e,i){var n=e.children()
if(i.shuffle=="yes")for(var a,s,o=n.length,r=0;o>r;r++)s=Math.floor(Math.random()*o),a=n[r],n[r]=n[s],n[s]=a
e.css({position:"relative"}),e.html(n[0]),$.data(e,"anim",!1),i.on!=""?(i.on=="mouseover"&&e.on("mouseleave",function(){$.data(e,"anim",!1)}),e.on(i.on,function(){i.on=="click"?$.data(e,"anim")?$.data(e,"anim",!1):($.data(e,"anim",!0),window.setTimeout(function(){t(n,0,e,i)},0)):i.on=="mouseover"&&($.data(e,"anim")||($.data(e,"anim",!0),window.setTimeout(function(){t(n,0,e,i)},0)))})):($.data(e,"anim",!0),window.setTimeout(function(){t(n,0,e,i)},i.interval))}
var t=function(e,i,n,a){$.data(n,"anim")&&((windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(n.jKit_inViewport()||!n.jKit_inViewport()&&plugin.settings.ignoreViewport)?(i<e.length-1?i++:i=0,plugin.triggerEvent("hideentry hideentry"+(i+1),n,a),n.jKit_effect(!1,a.animation,a.speed,a.easing,0,function(){n.html(e[i]),plugin.triggerEvent("showentry showentry"+(i+1),n,a),n.jKit_effect(!0,a.animation,a.speed,a.easing,0,function(){window.setTimeout(function(){t(e,i,n,a)},a.interval)})})):window.setTimeout(function(){t(e,i,n,a)},a.interval))}
return e}(),plugin.commands.cycle=function(){var e={}
return plugin.addCommandDefaults("cycle",{what:"class",where:"li",scope:"children",sequence:"odd,even"}),e.execute=function(e,t){var i=plugin.settings,n=t.sequence.split(i.delimiter),a=0,s=t.where
t.scope=="children"&&(s="> "+s),e.find(s).each(function(){if(n[a]!=undefined&&n[a]!="")switch(t.what){case"class":$(this).addClass(n[a])
break
case"html":$(this).html(n[a])
break
default:var e=t.what.split(".")
e[0]=="attr"?$(this).attr(e[1],n[a]):e[0]=="css"&&$(this).css(e[1],n[a])}a++,a>n.length-1&&(a=0)})},e}(),plugin.commands.binding=function(){var command={}
plugin.addCommandDefaults("binding",{selector:"",source:"val",variable:"",mode:"text",interval:100,math:"",condition:"","if":"","else":"",speed:0,easing:"linear",search:"",trigger:"no",accuracy:"",min:"",max:"",applyto:"",delay:0}),command.execute=function(e,t){window.setTimeout(function(){binding(e,t)},t.delay)}
var binding=function(el,options){if(windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus){if(options.value==undefined){if(options.selector!=""){var selsplit=options.selector.split("|"),sourcesplit=options.source.split("."),values=[]
if($.each(selsplit,function(e,t){var i
if("this"==t)i=el
else if("parent"==t)i=$(el).parent()
else{var n=t.split(".")
n.length==1?i=$(n[0]):n[0]=="each"?i=el.find(n[1]):n[0]=="children"&&(i=el.children(n[1]))}i.each(function(){switch(sourcesplit[0]){case"event":$(this).on(sourcesplit[1],function(){options.value=1,binding(el,options),options.macro!=undefined&&plugin.applyMacro($(el),options.macro)})
break
case"html":var e=$(this).html()
break
case"text":var e=$(this).text()
break
case"attr":var e=$(this).attr(sourcesplit[1])
break
case"css":if(sourcesplit[1]=="height")var e=$(this).height()
else if(sourcesplit[1]=="innerHeight")var e=$(this).innerHeight()
else if(sourcesplit[1]=="outerHeight")var e=$(this).outerHeight()
else if(sourcesplit[1]=="width")var e=$(this).width()
else if(sourcesplit[1]=="innerWidth")var e=$(this).innerWidth()
else if(sourcesplit[1]=="outerWidth")var e=$(this).outerWidth()
else if(sourcesplit[1]=="scrollTop")var e=$(this).scrollTop()
else if(sourcesplit[1]=="scrollLeft")var e=$(this).scrollLeft()
else var e=$(this).css(sourcesplit[1])
break
case"scroll":switch(sourcesplit[1]){case"top":var e=$(window).scrollTop()
break
case"left":var e=$(window).scrollLeft()}break
case"clearance":var t=el.offset().top-$(window).scrollTop(),i=$(window).scrollTop()+$(window).height()-(el.offset().top+el.height()),n=$(window).width()+$(window).scrollLeft()-(el.offset().left+el.width()),a=el.offset().left-$(window).scrollLeft()
switch(sourcesplit[1]){case"bottom":var e=i
break
case"top":var e=t
break
case"right":var e=n
break
case"left":var e=a
break
default:var e=Math.min.apply(Math,[i,t,n,a])}break
case"has":switch(sourcesplit[1]){case"class":var e=$(this).hasClass(options.search)
break
case"text":var e=$.fn.jKit_stringOccurrences($(this).text().toLowerCase(),options.search.toLowerCase())
break
case"attribute":var e=$(this).attr(options.search)!==undefined
break
case"val":var e=$.fn.jKit_stringOccurrences($(this).val().toLowerCase(),options.search.toLowerCase())
break
case"element":var e=$(this).find(options.search).length
break
case"children":var e=$(this).children(options.search).length
break
case"hash":var e=window.location.hash==options.search}break
case"location":var e=window.location[sourcesplit[1]]
break
case"val":default:var e=$(this).val()}values.push(e)})}),sourcesplit[2]!=undefined){var value=""
switch(sourcesplit[2]){case"max":value=Math.max.apply(Math,values)
break
case"min":value=Math.min.apply(Math,values)
break
case"sum":value=values.reduce(function(e,t){return e+t})
break
case"avg":value=values.reduce(function(e,t){return e+t})/values.length}}else var value=values[0]}else if(options.variable!="")var value=window[options.variable]}else value=options.value
isNaN(value)||parseInt(value)!=value||(options.accuracy!=""&&(value=Math.round(value/options.accuracy)*options.accuracy),options.min!=""&&value<options.min&&(value=options.min),options.max!=""&&value>options.max&&(value=options.max))
var doit,rev=!1
if(options.condition!=""?(doit=!1,eval("if ("+options.condition.replace(/[^a-zA-Z 0-9#\<\>\=\.\!\']+/g,"")+") doit = true;")):value===!1?(doit=!1,rev=!0):doit=!0,(commandkeys[options.commandkey].condition==undefined||commandkeys[options.commandkey].condition!=doit)&&(doit?plugin.triggerEvent("true",$(el),options):plugin.triggerEvent("false",$(el),options),commandkeys[options.commandkey].condition=doit),rev&&(doit=!0),doit||options["else"]==""?doit&&options["if"]!=""&&(doit=!0,value=options["if"]):(doit=!0,value=options["else"]),doit){options.math!=""&&eval("value = "+options.math.replace(/[^a-zA-Z 0-9\+\-\*\/\.]+/g,"")+";"),options.trigger=="yes"&&(commandkeys[options.commandkey].triggervalue==undefined||commandkeys[options.commandkey].triggervalue!=value)&&(commandkeys[options.commandkey].triggervalue!==undefined&&plugin.triggerEvent("notvalue"+commandkeys[options.commandkey].triggervalue,$(el),options),plugin.triggerEvent("value"+value,$(el),options),commandkeys[options.commandkey].triggervalue=value)
var $els=el
if(options.applyto!=""){var applysplit=options.applyto.split(".")
applysplit.length==1?$els=$(applysplit[0]):applysplit[0]=="each"?$els=el.find(applysplit[1]):applysplit[0]=="children"&&($els=el.children(applysplit[1]))}$els.each(function(){var e=$(this),t=options.mode.split(".")
switch(t[0]){case"text":e.text(value)
break
case"html":e.html(value)
break
case"val":e.val(value)
break
case"attr":e.attr(t[1],value)
break
case"css":if(t[1]=="display"&&($.trim(value)!=""&&$.trim(value)!=0&&value?t[2]!==undefined&&(value=t[2]):value="none"),options.speed>0){var i={}
i[t[1]]=value,e.animate(i,options.speed,options.easing)}else e.css(t[1],value)
break
case"none":break
default:if(t[0]!=undefined){var n=window[t[0]]
"function"==typeof n&&n(value,e)}}})}}options.interval!=-1&&window.setTimeout(function(){binding(el,options)},options.interval)}
return command}(),plugin.commands.accordion=function(){var e={}
return plugin.addCommandDefaults("accordion",{active:1,animation:"slide",speed:250,easing:"linear"}),e.execute=function(e,t){var i=plugin.settings,n=plugin.findElementTag(e,">","max","div"),a=plugin.findElementTag(e,"> "+n+" >",0,"h3"),s=plugin.findElementTag(e,"> "+n+" >",1,"div"),o=[]
e.children(n).each(function(){o.push({title:$(this).children(a).detach(),content:$(this).children(s).detach()})}),e.html("")
var r=$("<ul/>",{}).appendTo(e),l=1
t.active==0&&(l=-1),$.each(o,function(n,o){var d=$("<li/>",{}).append(o.title).css("cursor","pointer").appendTo(r)
t.active-1==n?(d.append(o.content).children(a).addClass(i.activeClass),l=n):d.append(o.content.hide()),d.find("> "+a).on("click",function(){n!=l?(plugin.triggerEvent("showentry showentry"+(n+1),e,t),r.find("> li > "+a).removeClass(i.activeClass),$(this).addClass(i.activeClass),t.animation=="slide"?(r.find("> li:nth-child("+(l+1)+") > "+s).slideUp(t.speed,t.easing),r.find("> li:nth-child("+(n+1)+") > "+s).slideDown(t.speed,t.easing)):(r.find("> li:nth-child("+(l+1)+") > "+s).hide(),r.find("> li:nth-child("+(n+1)+") > "+s).show()),l=n):(plugin.triggerEvent("hideentry hideentry"+(n+1),e,t),$(this).removeClass(i.activeClass).next().slideUp(t.speed,t.easing),l=-1)})})},e}(),plugin.commands.template=function(){var e={}
e.templates={},plugin.addCommandDefaults("template",{action:"set",name:"template",dynamic:"no",addhtml:"+"}),e.execute=function(i,n){var a=plugin.settings
if(n.action=="apply"){if($el=i,n.children!=undefined&&n.children!=""){$el=i.children(n.children)
var s=0
$el.each(function(){s++,t($(this),n,s,$el.length)})}else t(i,n)
n.dynamic=="yes"&&$("<a/>",{"class":a.prefix+"-"+type+"-add"}).html(n.addhtml).on("click",function(){$el=$(i.get(0))
var e=$el.children(n.children).length+1
$el.find(".if-entry-last").hide(),t($("<"+n.children+"/>").appendTo($el),n,e,e),plugin.triggerEvent("added",i,n)}).insertAfter(i)}else{if(e.templates[n.name]==undefined&&(e.templates[n.name]=[]),n.vars==undefined)var o=[]
else var o=n.vars.split(a.delimiter)
e.templates[n.name]={template:i.detach(),vars:o}}}
var t=function(t,n,a,s){var o={}
$.each(e.templates[n.name].vars,function(e,i){var n=t.find("."+i)
plugin.init(n),o[i]=n.val()!=""?n.val():n.html()}),t.html(e.templates[n.name].template.clone().show()),t.find('[class^="if-entry-"]').hide(),i(t,a),$.each(e.templates[n.name].vars,function(e,i){var n=t.find("."+i)
n.is("input")||n.is("select")||n.is("textarea")?n.val(o[i]):n.html(o[i]),o[i]==undefined&&t.find(".if-"+i).length>0&&t.find(".if-"+i).remove(),1==a&&t.find(".if-entry-first").show(),a==s&&t.find(".if-entry-last").show(),t.find(".if-entry-nr-"+a).show()})},i=function(e,t){e.find('[class^="dynamic-"]').each(function(){var e=$(this),i=$(this).attr("class").split(/\s+/)
$.each(i,function(i,n){var a=n.substr(8)
if(""!=a&&e.attr(a)){var s=e.attr(a),o=s.lastIndexOf("_")
o>-1&&(s=s.substr(0,o)),e.attr(a,s+"_"+t)}})})}
return e}(),plugin.commands.tabs=function(){var e={}
return plugin.addCommandDefaults("tabs",{active:1,animation:"none",speed:250,easing:"linear"}),e.execute=function(e,t){var i=plugin.settings,n=plugin.findElementTag(e,">","max","div"),a=plugin.findElementTag(e,"> "+n+" >",0,"h3"),s=plugin.findElementTag(e,"> "+n+" >",1,"div"),o=[]
e.children(n).each(function(){o.push({title:$(this).children(a).html(),content:$(this).children(s).detach()})}),e.html("")
var r=$("<ul/>",{}).appendTo(e),l=$
$.each(o,function(n,a){var s=$("<li/>",{}).html(a.title).css("cursor","pointer").appendTo(r)
t.active-1==n&&s.addClass(i.activeClass)
var d=function(){plugin.triggerEvent("showentry showentry"+(n+1),e,t),l.jKit_effect(!1,t.animation,t.speed,t.easing,0,function(){$(this).remove(),l=o[n].content.appendTo(e).hide(),l.jKit_effect(!0,t.animation,t.speed,t.easing)}),r.find("li").removeClass(i.activeClass),r.find("li:nth-child("+(n+1)+")").addClass(i.activeClass)}
s.on("click ",function(){d()})}),o[t.active-1]!=undefined&&(l=o[t.active-1].content.appendTo(e))},e}(),plugin.commands.key=function(){var e={}
return plugin.addCommandDefaults("key",{}),e.execute=function(e,t){t.code!=undefined&&(plugin.addKeypressEvents(e,t.code),e.on(t.code,function(){e.attr("onclick")!==undefined?e.click():e.attr("target")!==undefined&&e.attr("target")=="_blank"?window.open(e.attr("href"),"_blank",!1):window.location.href=e.attr("href"),t.macro!=undefined&&plugin.applyMacro(e,t.macro),plugin.triggerEvent("pressed",e,t)}))},e}(),plugin.commands.scroll=function(){var e={}
return plugin.addCommandDefaults("scroll",{speed:500,dynamic:"yes",easing:"linear",offset:0}),e.execute=function(e,t){e.click(function(){if(plugin.triggerEvent("clicked",e,t),$(this).attr("href")=="")var i=0
else var i=$(e.attr("href")).offset().top
return i+=parseInt(t.offset),t.dynamic=="yes"&&(t.speed=Math.abs($(document).scrollTop()-i)/1e3*t.speed),$("html, body").animate({scrollTop:i+"px"},t.speed,t.easing,function(){plugin.triggerEvent("complete",e,t)}),!1})},e}(),plugin.commands.form=function(){var e={}
return plugin.addCommandDefaults("form",{validateonly:"no"}),e.execute=function(e,t){var i=plugin.settings
e.append('<input type="hidden" name="'+i.prefix+'-requireds" id="'+i.prefix+'-requireds">'),t.error!=undefined&&(t.formerror=t.error)
var n=[]
e.on("submit",function(){var a=[]
if($(this).find("span."+i.errorClass).remove(),$(this).find("*[rel^=jKit], *["+i.dataAttribute+"]").each(function(){var e=$(this).attr("rel"),t=$(this).attr(i.dataAttribute)
if(t!=undefined)var s=t.indexOf("["),o=t.indexOf("]"),r=t.substring(s+1,o)
else var s=e.indexOf("["),o=e.indexOf("]"),r=e.substring(s+1,o)
var l=plugin.parseOptions(r)
l.type
var d=!1,u=!1
if(l.required==undefined&&(l.required=!1),l.required=="true"&&($(this).val()==""&&(d=!0,a.push({element:$(this),error:"required"})),u=!0,$.inArray($(this).attr("name"),n)==-1&&n.push($(this).attr("name"))),u||$(this).val()!=""||l.type=="group"){if(l.type!="email"||$.fn.jKit_emailCheck($(this).val())||(d=!0,a.push({element:$(this),error:"email"})),l.type!="url"||$.fn.jKit_urlCheck($(this).val())||(d=!0,a.push({element:$(this),error:"url"})),l.type!="date"||$.fn.jKit_dateCheck($(this).val())||(d=!0,a.push({element:$(this),error:"date"})),l.type=="date"&&new Date($(this).val()).getTime()<=new Date($(l.older).val()).getTime()&&(d=!0,a.push({element:$(this),error:"older"})),l.type=="date"&&new Date($(this).val()).getTime()>=new Date($(l.younger).val()).getTime()&&(d=!0,a.push({element:$(this),error:"younger"})),l.type!="time"||$.fn.jKit_timeCheck($(this).val())||(d=!0,a.push({element:$(this),error:"time"})),l.type!="phone"||$.fn.jKit_phoneCheck($(this).val())||(d=!0,a.push({element:$(this),error:"phone"})),l.type=="float"&&isNaN($(this).val())&&(d=!0,a.push({element:$(this),error:"float"})),l.type=="int"&&parseInt($(this).val())!=$(this).val()&&(d=!0,a.push({element:$(this),error:"int"})),(l.type=="int"||l.type=="float")&&l.min!=undefined&&$(this).val()<l.min&&l.type!="group"&&(d=!0,a.push({element:$(this),error:"min"})),(l.type=="int"||l.type=="float")&&l.max!=undefined&&$(this).val()>l.max&&l.type!="group"&&(d=!0,a.push({element:$(this),error:"max"})),(l.type=="int"||l.type=="float")&&l.bigger!=undefined&&$(this).val()>$(l.bigger).val()&&(d=!0,a.push({element:$(this),error:"bigger"})),(l.type=="int"||l.type=="float")&&l.smaller!=undefined&&$(this).val()<$(l.smaller).val()&&(d=!0,a.push({element:$(this),error:"smaller"})),l.type!="int"&&l.type!="float"&&l.min!=undefined&&$(this).val().length<l.min&&l.type!="group"&&(d=!0,a.push({element:$(this),error:"minlength"})),l.type!="int"&&l.type!="float"&&l.max!=undefined&&$(this).val().length>l.max&&l.type!="group"&&(d=!0,a.push({element:$(this),error:"maxlength"})),l.length!=undefined&&$(this).val().length!=l.length&&(d=!0,a.push({element:$(this),error:"length"})),l.type!="int"&&l.type!="float"&&l.longer!=undefined&&$(this).val().length>$(l.longer).val().length&&(d=!0,a.push({element:$(this),error:"longer"})),l.type!="int"&&l.type!="float"&&l.shorter!=undefined&&$(this).val().length<$(l.shorter).val().length&&(d=!0,a.push({element:$(this),error:"shorter"})),l.strength!=undefined&&$.fn.jKit_passwordStrength($(this).val())<l.strength&&(d=!0,a.push({element:$(this),error:"strength"})),l.same!=undefined&&$(this).val()!=$(l.same).val()&&(d=!0,a.push({element:$(this),error:"same"})),l.different!=undefined&&$(this).val()!=$(l.different).val()&&(d=!0,a.push({element:$(this),error:"different"})),l.type=="extension"){var c=l.options.split(i.delimiter),p=$(this).val().split("."),f=p[p.length-1]
$.inArray(f,c)==-1&&(d=!0,a.push({element:$(this),error:"ext"}))}if(l.type=="group")if(l.min!=undefined||l.max!=undefined){var m=0
$(this).children("input[type=checkbox][checked]").each(function(){m++}),(l.min!=undefined&&l.min>m||l.max!=undefined&&m>l.max)&&(d=!0,a.push({element:$(this),error:"group"}))}else $(this).find("input[name='"+l.name+"']:checked").val()==undefined&&(d=!0,a.push({element:$(this),error:"group"}))
if(l.type=="custom"&&l.checkfunction!=undefined){var h=window[l.checkfunction]
"function"==typeof h&&(h($(this).val())||(d=!0,a.push({element:$(this),error:"custom"})))}}d?(l.error!=undefined&&$(this).after('<span class="'+i.errorClass+'">'+l.error+"</span>"),$(this).addClass(i.errorClass)):$(this).removeClass(i.errorClass)}),a.length==0){if(t.validateonly=="yes")return plugin.triggerEvent("complete",e,t),!0
var s=$(this).attr("action")
return e.removeClass(i.errorClass),t.success==undefined&&(t.success="Your form has been sent."),e.find("input#"+i.prefix+"-requireds").val(n.join(i.delimiter)),$.post(s,e.serialize(),function(n){if(e.find("."+i.errorClass).hide(),n.sent!=undefined&&n.sent==1)t.success.charAt(0)=="#"?e.html($(t.success).show()):e.html('<p class="'+i.successClass+'">'+t.success+"</p>"),plugin.triggerEvent("complete",e,t),t.macro!=undefined&&plugin.applyMacro(e,t.macro)
else{for(x in n.error){var a=n.error[x]
e.find("*[name="+a+"]").addClass(i.errorClass).after('<span class="'+i.errorClass+'">'+t.error+"</span>")}plugin.triggerEvent("error",e,t)}}).error(function(t,n,a){alert(a),e.append('<span class="'+i.errorClass+'">There was an error submitting the form: Error Code '+t.status+"</span>")}),!1}return e.addClass(i.errorClass),t.formerror!=undefined&&e.append('<span class="'+i.errorClass+'">'+t.formerror+"</span>"),plugin.triggerEvent("error",e,t),!1})},e}(),plugin.commands.ajax=function(){var e={}
plugin.addCommandDefaults("ajax",{animation:"slide",speed:250,easing:"linear",when:"click"}),e.execute=function(e,i){var n=plugin.settings
if(i.href!=undefined&&i.href!="")var a=i.href
else var a=e.attr("href")
if(i.when=="load"||i.when=="viewport"||i.when=="shown")if(i.when=="load")e.load(a,function(){plugin.triggerEvent("complete",e,i)})
else var s=setInterval(function(){(i.when=="viewport"&&(e.jKit_inViewport()||!e.jKit_inViewport()&&n.ignoreViewport)||i.when=="shown"&&e.css("display")!="none")&&(i.src!=undefined?(e.attr("src",i.src),plugin.triggerEvent("complete",e,i)):e.load(a,function(){plugin.init(e),plugin.triggerEvent("complete",e,i)}),window.clearInterval(s))},100)
else e.on("click",function(){return t(a,i,e),!1})}
var t=function(e,t,i){var n=plugin.settings.prefix+"_ajax_temp_"+$.fn.jKit_getUnixtime()
$(t.element).jKit_effect(!1,t.animation,t.speed,t.easing,0,function(){$(t.element).html(""),jQuery("<div/>",{id:n}).appendTo("body"),$("#"+n).load(e+" "+t.element,function(){$(t.element).html($("#"+n+" "+t.element).html()),plugin.init($(t.element)),plugin.triggerEvent("complete",i,t),$(t.element).jKit_effect(!0,t.animation,t.speed,t.easing),t.macro!=undefined&&plugin.applyMacro($(t.element),t.macro),$("#"+n).remove()})})}
return e}(),plugin.commands.hide=function(){var e={}
return plugin.addCommandDefaults("hide",{delay:0,speed:500,animation:"fade",easing:"linear"}),e.execute=function(e,t){e.jKit_effect(!1,t.animation,t.speed,t.easing,t.delay,function(){plugin.triggerEvent("complete",e,t)})},e}(),plugin.commands.fontsize=function(){var e={}
return plugin.addCommandDefaults("fontsize",{steps:2,min:6,max:72,affected:"p",style:"font-size"}),e.execute=function(e,t){e.on("click",function(){return $element.find(t.affected).each(function(){var e=parseInt($(this).css(t.style))+parseInt(t.steps)
e>=parseInt(t.min)&&e<=parseInt(t.max)&&$(this).css(t.style,e)}),plugin.triggerEvent("changed",e,t),!1})},e}(),plugin.commands.remove=function(){var e={}
return plugin.addCommandDefaults("remove",{delay:0}),e.execute=function(e,t){e.delay(t.delay).hide(0,function(){e.remove(),plugin.triggerEvent("complete",e,t)})},e}(),plugin.commands.loop=function(){var e={}
plugin.addCommandDefaults("loop",{speed1:500,speed2:500,duration1:2e3,duration2:2e3,easing1:"linear",easing2:"linear",animation:"fade"}),e.execute=function(e,i){t(e.hide(),i)}
var t=function(e,i){(windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(e.jKit_inViewport()||!e.jKit_inViewport&&plugin.settings.ignoreViewport)?(plugin.triggerEvent("show",e,i),e.jKit_effect(!0,i.animation,i.speed1,i.easing1,i.duration1,function(){plugin.triggerEvent("hide",e,i),e.jKit_effect(!1,i.animation,i.speed2,i.easing2,i.duration2,t(e,i))})):window.setTimeout(function(){t(e,i)},100)}
return e}(),plugin.commands.ticker=function(){var e={}
plugin.addCommandDefaults("ticker",{speed:100,delay:2e3,loop:"yes"}),e.execute=function(e,i){var n=plugin.findElementTag(e,">","max","li"),a=[]
e.find(n).each(function(){a.push({href:$(this).find("a").attr("href"),target:$(this).find("a").attr("target"),text:$(this).text()})})
var s=$("<div/>")
e.replaceWith(s),window.setTimeout(function(){t(s,i,a,0,0)},0)}
var t=function(e,i,n,a,s){var o=!1
if((windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(e.jKit_inViewport()||!e.jKit_inViewport()&&plugin.settings.ignoreViewport)){var r=i.speed
s++,s>n[a].text.length?(r=i.delay,a++,a>=n.length&&(i.loop=="yes"&&n.length>1?a=0:o=!0),o||(setTimeout(function(){plugin.triggerEvent("showentry showentry"+(a+1),e,i)},r),s=0)):n[a].href!=undefined?e.html('<a href="'+n[a].href+'" target="'+n[a].target+'">'+n[a].text.substr(0,s)+"</a>"):e.html(n[a].text.substr(0,s))}o||window.setTimeout(function(){t(e,i,n,a,s)},r)}
return e}(),plugin.commands.carousel=function(){var e={}
return plugin.addCommandDefaults("carousel",{autoplay:"yes",limit:5,animation:"grow",speed:250,easing:"linear",interval:5e3,prevhtml:"&lt;",nexthtml:"&gt;"}),e.execute=function(e,t){var i=plugin.settings,n=0
e.children().each(function(){n++,n>t.limit&&$(this).hide()})
var a=$("<a/>",{"class":i.prefix+"-carousel-prev"}).html(t.prevhtml).on("click left",function(){carousel(e,t,"prev")}).insertAfter(e),s=$("<a/>",{"class":i.prefix+"-carousel-next"}).html(t.nexthtml).on("click right",function(){carousel(e,t,"next")}).insertAfter(e)
plugin.addKeypressEvents(a,"left"),plugin.addKeypressEvents(s,"right"),t.autoplay=="yes"&&window.setTimeout(function(){carousel(e,t)},t.interval)},carousel=function(e,t,i){if(i!=undefined&&(t.autoplay=!1),(windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(e.jKit_inViewport()||!e.jKit_inViewport()&&plugin.settings.ignoreViewport)){var n=!1
if(e.children().each(function(){$(this).is(":animated")&&(n=!0)}),!n){var a=Math.min(t.limit,e.children().length)
"next"==i||i==undefined?(plugin.triggerEvent("shownext",e,t),e.children(":first-child").jKit_effect(!1,t.animation,t.speed,t.easing,0,function(){e.append(e.children(":nth-child(1)")),e.children(":nth-child("+a+")").jKit_effect(!0,t.animation,t.speed,t.easing,0)})):"prev"==i&&(plugin.triggerEvent("showprev",e,t),e.children(":nth-child("+a+")").jKit_effect(!1,t.animation,t.speed,t.easing,0,function(){e.prepend(e.children(":last-child")),e.children(":first-child").jKit_effect(!0,t.animation,t.speed,t.easing,0)}))}t.autoplay=="yes"&&window.setTimeout(function(){carousel(e,t)},t.interval)}else window.setTimeout(function(){carousel(e,t)},t.interval)},e}(),plugin.commands.paginate=function(){var e={}
return plugin.addCommandDefaults("paginate",{limit:"25",by:"node",container:"",animation:"none",speed:250,easing:"linear",pos:"after"}),e.execute=function(e,t){var i=plugin.settings
if(t.container!="")var n=e.find(t.container)
else var n=e
if(e.attr("id")!==undefined)var a=i.prefix+"-paginate-"+e.attr("id")
else var a=i.prefix+"-paginate-uid-"+ ++uid
var s=[],o=[]
if(t.by=="node"){var r=1
n.children().each(function(){r++,o.push($(this).detach()),r>Number(t.limit)&&(r=1,s.push(o),o=[])})}else{var l=0
n.children().each(function(){l+=$(this).outerHeight(),l>Number(t.limit)&&(l=$(this).outerHeight(),o.length>0&&s.push(o),o=[]),o.push($(this).detach())})}if(o.length>0&&s.push(o),s.length>1){var d=$("<ul/>",{id:a,"class":i.prefix+"-pagination"})
$.each(s,function(a,s){var o=$("<li/>").html(a+1).on("click",function(){plugin.triggerEvent("showpage showpage"+(a+1),e,t),d.find("li").removeClass(i.activeClass),$(this).addClass(i.activeClass),n.jKit_effect(!1,t.animation,t.speed,t.easing,0,function(){n.html(""),$.each(s,function(e,t){t.clone().appendTo(n)}),n.jKit_effect(!0,t.animation,t.speed,t.easing,0)})})
0==a&&o.addClass(i.activeClass),o.appendTo(d)}),t.pos=="after"?d.insertAfter(e):d.insertBefore(e),n.html(""),$.each(s[0],function(e,t){t.clone().appendTo(n)})}},e}(),plugin.commands.summary=function(){var e={}
return plugin.addCommandDefaults("summary",{what:"",linked:"yes",from:"",scope:"children",style:"ul",indent:"no"}),e.execute=function(e,t){var i=plugin.settings,n="",a="",s=""
if(t.scope=="children"&&(s="> "),t.what=="headers"&&(t.what=":header"),$(t.from).find(s+t.what).each(function(){var e=$(this),s=""
if(t.what==":header"&&t.indent=="yes"){var o=e.prop("tagName")
if(o.length==2&&o[1]!="")for(var r=o[1]-1,l=1;r>=l;l++)s+="&nbsp; &nbsp; "}if(t.linked=="yes"){if(e.attr("id")!==undefined)var d=e.attr("id")
else{var d=i.prefix+"-uid-"+ ++uid
e.attr("id",d)}window.location.hash=="#"+d&&(a=d),n+=t.style=="select"?'<option value="'+d+'">'+s+$(this).text()+"</option>":'<li><a href="#'+d+'">'+s+$(this).text()+"</a></li>"}else n+=t.style=="select"?'<option value="">'+s+$(this).text()+"</option>":"<li>"+s+$(this).text()+"</li>"}),""!=n&&(e.html("<"+t.style+">"+n+"</"+t.style+">"),t.style=="select"&&t.linked=="yes"&&e.find("select").on("change",function(){window.location.hash="#"+$(this).val(),$(this).blur()}),t.style=="select"&&t.linked=="yes"&&""!=a&&(e.find("select").val(a),e.find("#"+a).offset()!==undefined))){var o=e.find("#"+a).offset().top
$("html, body").css({scrollTop:o+"px"})}},e}(),plugin.commands.gallery=function(){var e={}
return plugin.addCommandDefaults("gallery",{active:1,event:"click",showcaptions:"yes",animation:"none",speed:500,easing:"linear",lightbox:"no"}),e.execute=function(e,t){var i=plugin.settings,n="gallery",a=e.children()
e.html(e.children(":nth-child("+t.active+")").clone()),t.lightbox=="yes"&&plugin.executeCommand(e.find("img"),"lightbox",{})
var s=$("<div/>",{id:i.prefix+"-"+e.attr("id")+"-"+n+"-thumbs"}).addClass(i.prefix+"-"+n+"-thumbs").insertAfter(e)
if(t.showcaptions=="yes")var o=$("<div/>",{id:i.prefix+"-"+e.attr("id")+"-"+n+"-captions"}).addClass(i.prefix+"-"+n+"-captions").text($(a[t.active-1]).attr("title")).insertAfter(e)
$.each(a,function(a,r){t.event!="click"&&t.lightbox=="yes"&&plugin.executeCommand($(r),"lightbox",{group:i.prefix+"-"+e.attr("id")+"-"+n}),t.active-1==a&&$(r).addClass(i.activeClass),$(r).on(t.event,function(){plugin.triggerEvent("hideentry",e,t),e.jKit_effect(!1,t.animation,t.speed,t.easing,0,function(){e.find("img").attr("src",$(r).attr("src")),t.lightbox=="yes"&&plugin.executeCommand(e.find("img").unbind("click"),"lightbox",{}),plugin.triggerEvent("showentry showentry"+(a+1),e,t),e.jKit_effect(!0,t.animation,t.speed,t.easing,0),s.find("img").removeClass(i.activeClass),$(r).addClass(i.activeClass),t.showcaptions=="yes"&&o.text($(r).attr("title"))})}).css({cursor:"pointer"}).appendTo(s)})},e}(),plugin.commands.background=function(){var e={}
return plugin.addCommandDefaults("background",{distort:"no"}),e.execute=function(e,t){var i=plugin.settings,n=$("<div/>",{id:i.prefix+"-background"}).css({position:"fixed",right:"0px",top:"0px",overflow:"hidden","z-index":"-1",width:$(window).width(),height:$(window).height()}).appendTo("body")
n.append(e)
var a=e.attr("width"),s=e.attr("height")
scaleFit(n,e,a,s,t.distort),$(window).resize(function(){scaleFit(n,e,a,s,t.distort),plugin.triggerEvent("resized",e,t)})},scaleFit=function(e,t,i,n,a){var s=$(window).width(),o=$(window).height()
e.css({width:s+"px",height:o+"px"})
var r=0,l=0
if("no"==a){var d=i/n,u=s/o
d>u?(s=o*d,l=(s-$(window).width())/2*-1):(o=s/d,r=(o-$(window).height())/2*-1)}t.css({position:"fixed",top:r+"px",left:l+"px",width:s+"px",height:o+"px"})},e}(),plugin.commands.live=function(){var e={}
plugin.addCommandDefaults("live",{interval:60}),e.execute=function(e,i){e.attr("src")!==undefined&&window.setInterval(function(){t(e,i),plugin.triggerEvent("reloaded",e,i)},i.interval*1e3)}
var t=function(e){if((windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(e.jKit_inViewport()||!e.jKit_inViewport()&&plugin.settings.ignoreViewport)){var t=e.attr("src").split("?")
e.attr("src",t[0]+"?t="+$.fn.jKit_getUnixtime())}}
return e}(),plugin.commands.lightbox=function(){var e={},t={}
return plugin.addCommandDefaults("lightbox",{speed:500,opacity:.7,clearance:200,closer:"x",next:">",prev:"<",modal:"no",width:"",height:"",titleHeight:20,group:""}),e.execute=function(e,i){var n=plugin.settings,a="lightbox",s=""
e.attr("href")!==undefined&&(s=e.attr("href")),""==s&&e.attr("src")!==undefined&&(s=e.attr("src")),""==s&&e.css("background-image")!==undefined&&(s=e.css("background-image").replace('"',"").replace('"',"").replace("url(","").replace(")","")),""!=s&&(i.group!=""&&(t[i.group]==undefined&&(t[i.group]=[]),t[i.group].push(e)),e.on("click",function(){plugin.triggerEvent("clicked",e,i),i.modal=="no"&&$("<div/>",{id:n.prefix+"-"+a+"-bg","class":n.prefix+"-"+a+"-closer "+n.prefix+"-"+a+"-el"}).fadeTo(i.speed,i.opacity).appendTo("body")
var o=$("<div/>",{id:n.prefix+"-"+a+"-content","class":n.prefix+"-"+a+"-el"}).fadeTo(0,.01).appendTo("body")
$.fn.jKit_iOS()&&o.css("top",$(window).scrollTop()+"px"),i.width!=""&&(o.css({width:i.width}),o.css({left:($(window).width()-o.outerWidth())/2+"px"})),i.height!=""&&(o.css({height:i.height}),o.css({top:($(window).height()-o.outerHeight())/2+"px"}))
var r=$("<div/>",{id:n.prefix+"-"+a+"-nav","class":n.prefix+"-"+a+"-el"}).hide().fadeTo(i.speed,1).appendTo("body")
$("<span/>",{"class":n.prefix+"-"+a+"-closer"}).html(i.closer).prependTo(r)
var l=o.offset()
if(r.css({top:l.top-i.titleHeight-$(window).scrollTop()+"px",left:l.left+o.outerWidth()-r.width()+"px"}),i.group!=""){var d=$("<span/>",{id:n.prefix+"-"+a+"-nav-next"}).prependTo(r),u=$("<span/>",{id:n.prefix+"-"+a+"-nav-prev"}).prependTo(r)
plugin.addKeypressEvents(d,"right"),plugin.addKeypressEvents(u,"left"),t[i.group][t[i.group].length-1]!=e&&d.html(i.next).on("click right",function(){$.each(t[i.group],function(n,s){s==e&&($("."+plugin.settings.prefix+"-"+a+"-el").fadeTo(i.speed,0,function(){$(this).remove()}),t[i.group][n+1].click())})}),t[i.group][0]!=e&&u.html(i.prev).on("click left",function(){$.each(t[i.group],function(n,s){s==e&&($("."+plugin.settings.prefix+"-"+a+"-el").fadeTo(i.speed,0,function(){$(this).remove()}),t[i.group][n-1].click())})})}$title=$("<div/>",{id:n.prefix+"-"+a+"-title","class":n.prefix+"-"+a+"-el"}).css({top:l.top-i.titleHeight-$(window).scrollTop()+"px",left:l.left+"px",width:o.width()+"px"}).hide().text(e.attr("title")).fadeTo(i.speed,1).appendTo("body"),$.support.leadingWhitespace||(s=s+"?"+(new Date).getTime())
var c=new Image
return $(c).load(function(){var t=($(this).outerWidth()+i.clearance)/$(window).width(),n=($(this).outerHeight()+i.clearance)/$(window).height(),a=Math.max(t,n)
if(a>1){var s=$(this).height()
$(this).width($(this).width()/a),$(this).height(s/a)}var l=($(window).width()-$(this).outerWidth())/2,d=($(window).height()-$(this).outerHeight())/2
o.width($(this).width()).height($(this).height()).css({left:l+"px",top:d+"px"}).fadeTo(i.speed,1),$(this).hide().fadeTo(i.speed,1),e.attr("title")!=""&&$title.css({top:d-i.titleHeight+"px",left:l+"px",width:$(this).width()+"px"}),r.css({top:d-i.titleHeight+"px",left:l+o.outerWidth()-r.width()+"px"})}).attr("src",s).appendTo(o).error(function(){o.html('<iframe id="'+n.prefix+"-"+a+'-iframe" src="'+s+'" style="border:none;width:100%;height:100%"></iframe>').fadeTo(i.speed,1)}),$("."+n.prefix+"-"+a+"-closer").click(function(){$("."+n.prefix+"-"+a+"-el").fadeTo(i.speed,0,function(){$(this).remove()})}),!1}))},plugin.closeLightbox=function(){$("."+plugin.settings.prefix+"-lightbox-el").fadeTo("fast",0,function(){$(this).remove()})},e}(),plugin.commands.menu=function(){var e={}
return plugin.addCommandDefaults("menu",{autoactive:"no"}),e.execute=function(e,t){var i=plugin.settings
if(t.autoactive=="yes"){var n=(""+window.location).split("#")[0].split("/")
e.find("a").filter(function(){return $(this).attr("href")==n[n.length-1]}).addClass(i.activeClass)}e.find("li").hover(function(){$(this).addClass("hover"),$("ul:first",this).css("visibility","visible")},function(){$(this).removeClass("hover"),$("ul:first",this).css("visibility","hidden")}).on("click",function(){$(this).addClass("hover"),$("ul:first",this).css("visibility","visible")})},e}()
for(x in plugin.commands)"init"!=x&&plugin.inc.push(x)
plugin.init()},$.fn.jKit_effect=function(e,t,i,n,a,s){return this.each(function(){s==undefined&&(s=function(){}),a==undefined&&(a=0),"fade"==t?e?$(this).delay(a).fadeTo(i,1,n,s):$(this).delay(a).fadeTo(i,0,n,s):"slide"==t?e?$(this).delay(a).slideDown(i,n,s):$(this).delay(a).slideUp(i,n,s):"none"==t?(e?$(this).delay(a).show():$(this).delay(a).hide(),s()):e?$(this).delay(a).show(i,n,s):$(this).delay(a).hide(i,n,s)})},$.fn.jKit_getUnixtime=function(){var e=new Date,t=e.getTime()
return parseInt(t/1e3)},$.fn.jKit_arrayShuffle=function(e){for(var t,i,n=0;n<e.length;n++)i=Math.floor(Math.random()*e.length),t=e[n],e[n]=e[i],e[i]=t
return e},$.fn.jKit_stringOccurrences=function(e,t){for(var i=0,n=0;;){if(n=e.indexOf(t,n),-1==n)break
i++,n+=t.length}return i},$.fn.jKit_emailCheck=function(e){var t=/^[a-z0-9\._-]+@([a-z0-9_-]+\.)+[a-z]{2,6}$/i
return t.test(e)},$.fn.jKit_urlCheck=function(e){var t=/^(?:(ftp|http|https):\/\/)?(?:[\w\-]+\.)+[a-z]{2,6}$/i
return t.test(e)},$.fn.jKit_dateCheck=function(e){return $.fn.jKit_regexTests(e,[/^[0-9]{2}\.[0-9]{2}\.[0-9]{2}$/i,/^[0-9]{1,2}\.[0-9]{1,2}\.[0-9]{2}$/i,/^[0-9]{1,2}\.[0-9]{1,2}\.[0-9]{4}$/i,/^[0-9]{2}\.[0-9]{2}\.[0-9]{4}$/i,/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/i,/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/i])},$.fn.jKit_timeCheck=function(e){return $.fn.jKit_regexTests(e,[/^[0-9]{1,2}\:[0-9]{2}$/i,/^[0-9]{1,2}\:[0-9]{2}\:[0-9]{2}$/i])},$.fn.jKit_phoneCheck=function(e){return $.fn.jKit_regexTests(e,[/^(\+|0)([\d ])+(0|\(0\))+[\d ]+(-\d*)?\d$/,/^(\+|0)[\d ]+(-\d*)?\d$/,/^((((\(\d{3}\))|(\d{3}-))\d{3}-\d{4})|(\+?\d{2}((-| )\d{1,8}){1,5}))(( x| ext)\d{1,5}){0,1}$/])},$.fn.jKit_passwordStrength=function(e){var t=0
return e.length<5?t+=5:e.length>4&&e.length<8?t+=15:e.length>=8&&(t+=30),e.match(/[a-z]/)&&(t+=5),e.match(/[A-Z]/)&&(t+=10),e.match(/\d+/)&&(t+=10),e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(t+=10),e.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)&&(t+=10),e.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(t+=10),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(t+=5),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(t+=5),e.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)&&(t+=5),t},$.fn.jKit_regexTests=function(e,t,i){i===undefined&&(i=!1)
var n=0
for(var a in t)t[a].test(e)&&n++
return i&&n==t.length||!i&&n>0},$.fn.jKit_getAttributes=function(){return this.each(function(){for(var e={},t=$(this)[0].attributes,i=t.length,n=0;i>n;n++)e[t[n].name.toLowerCase()]=t[n].value
return e})},$.fn.jKit_setAttributes=function(e){return this.each(function(){$.each(e,function(e,t){try{$(this).attr(e+"",t+"")}catch(i){}})})},$.fn.jKit_iOS=function(){return navigator.userAgent.match(/(iPod|iPhone|iPad)/i)},$.fn.jKit_belowTheFold=function(){var e=$(window).height()+$(window).scrollTop()
return e<=$(this).offset().top},$.fn.jKit_aboveTheTop=function(){var e=$(window).scrollTop()
return e>=$(this).offset().top+$(this).height()},$.fn.jKit_rightOfScreen=function(){var e=$(window).width()+$(window).scrollLeft()
return e<=$(this).offset().left},$.fn.jKit_leftOfScreen=function(){var e=$(window).scrollLeft()
return e>=$(this).offset().left+$(this).width()},$.fn.jKit_inViewport=function(){return!($(this).jKit_belowTheFold()||$(this).jKit_aboveTheTop()||$(this).jKit_rightOfScreen()||$(this).jKit_leftOfScreen())},$.fn.jKit=function(e,t){return this.each(function(){var i=new $.jKit(this,e,t)
$(this).data("jKit",i)})}})(jQuery)
